% !TeX spellcheck = en_GB
\documentclass[a4paper,fleqn]{report}

\usepackage{thesisStyle}


\lstset{language=Bash} 

\begin{document}
	
	\chapter{User's manual}

	
	This document will explain the steps needed to obtain a successfull VCD-spectrum using the DMSO Monte-Carlo simulation.
	
	Following steps are neccesary:
	\begin{enumerate}
		\setlength{\itemsep}{-1pt}
		\setlength{\parsep}{-1pt}
		\item Installation of neccesary programs and configuration
		\item Preparation of the simulation
		\item Minimization and density control
		\item Simulation
		\item Checks of the results
		\item Processing of the results for QM calculations
		\item Spectra calculations
		\item Final spectrum
	\end{enumerate}
	
	\section{Environment preparation}
	
	\subsection{External programs}
	In order to run, both Gaussian 09 and MOPAC are necessary. Gaussian is used 
	for the initial charge calculations, and both versions A.02 and D.01 have 
	been tested.
	MOPAC2016 is used for the PM6 energy calculations. Version 16.175L is known 
	to work.
	
	For the installation of Gaussian, please refer to the manual. As long as 
	the path is added to the \verb|PATH|-variable it should work.
	
	The installation of MOPAC is slightly more complex, as the instructions do 
	not work out of the box.
	First, follow the instructions included in the download. Make sure to 
	install the password.
	Next, add a symbolic link to the \verb|MOPAC2016.exe| executable named 
	\verb|mopac|.
	This symbolic link needs to be in a directory which is on the 
	\verb|PATH|-variable. This can be achieved by adding the 
	\verb|mopac|-directory to said variable in \verb|.bashrc|.
	
	\begin{lstlisting}[caption={Configuration},label=lst:configuration]
# in the installation directory:
ln -s MOPAC2016.exe mopac
# in .bashrc:
export PATH=$PATH:/path/to/mopac/
	\end{lstlisting}
	
	\subsection{Compilation of internal programs}
	
	\subsubsection{Compilers}
	It is recommended to compile the programs locally on the system you plan to 
	use. Binaries are available on-line, but might not work.
	
	Both the GNU Fortran compiler and the Intel iFort compiler are supported.
	
	First, obtain the latest source code from 
	\url{https://github.com/MatthijsLasure/MonteCarlo/releases} and unpack the 
	file.
	
	\subsubsection{Monte Carlo}
	Inside the MonteCarlo folder, make a folder that will contain the temporary 
	files for the compilation.
	For the Intel compiler, name the folder \verb|tmp-intel|, and for the GNU 
	compiler use \verb|tmp-GNU|.
	Finally, compile the program:
	\begin{lstlisting}
make GNU
# or
make intel
	\end{lstlisting}
	
	Note that it will default to \verb|intel| if no argument is given.
	
	The output file is called \verb|MonteCarloGNU| or \verb|MonteCarloOpenMP| 
	depending on the chosen compiler, and will have the correct permissions.
	
	\subsubsection{ConvertDump}
	In the \verb|ConvertDump| folder, just execute \verb|make|. It's that 
	simple!
	
	\subsubsection{BoxScale}
	In the \verb|BoxScale| folder, execute the following:
	\begin{lstlisting}
gfortran -o BoxScale BoxScale.f08
	\end{lstlisting}
	
	
\end{document}